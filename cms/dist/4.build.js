webpackJsonp([4],{1:function(t,e,i){t.exports={"default":i(2),__esModule:!0}},2:function(t,e,i){var s=i(3),o=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},3:function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},6:function(t,e){"use strict";t.exports={methods:{toggleDropdown:function(t){t.preventDefault(),this.$el.classList.toggle("open")}},ready:function(){var t=this.$el;t.addEventListener("click",this.toggleDropdown),this._closeEvent=window.addEventListener("click",function(e){t.contains(e.target)||t.classList.remove("open")})},beforeDestroy:function(){this._closeEvent&&this._closeEvent.remove()}}},7:function(t,e){t.exports="<div class=btn-group> <slot></slot> <slot name=dropdown-menu></slot> </div>"},8:function(t,e,i){var s,o;s=i(6),o=i(7),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},9:function(t,e){function i(t,e){var s,o=[];for(var l in t)t[l].parentid==e&&(o.push(t[l]),t[l].children=[],s=i(t,t[l]._id),s.length>0&&(t[l].children=s));return o}t.exports=i},12:function(t,e,i){"use strict";var s=i(14);t.exports={props:{input:{type:String,twoWay:!0,"default":"# 广贸网"},height:{type:String,"default":"500px"},id:{type:String,"default":"markdown"}},ready:function(){var t=this,e=this.$el.querySelector(".btn-link-wrap");this._closeEvent=window.addEventListener("click",function(i){e.contains(i.target)||(t.linkWrap=!1)})},data:function(){return{img:"",linkWrap:!1,link:""}},methods:{addLink:function(){var t=this.$el.querySelector(".textarea-mk"),e=t.selectionStart,i=t.selectionEnd,s=this.input;this.input=s.substring(0,e)+"["+s.substring(e,i)+"]("+this.link+")"+s.substring(i,s.length),t.selectionStart=t.selectionEnd=e,this.linkWrap=!1},insertText:function(t,e){var i=t.selectionStart,s=t.selectionEnd,o=t.value;this.input=o.substring(0,i)+e+o.substring(s,o.length),i+=e.length,t.selectionStart=t.selectionEnd=i},toggleLink:function(t){this.linkWrap=!this.linkWrap,this.link=""},full:function(){var t=this.$el.querySelector(".md-html").className;/md-html-full/.test(t)?this.$el.querySelector(".md-html").className=t.replace(/(\s)*md-html-full(\s)*/,""):this.$el.querySelector(".md-html").className=t+" md-html-full"}},watch:{img:function(t){if(console.log(1,t),t){var e="\n![]("+imgHost+t+")\n";this.insertText(this.$el.querySelector(".textarea-mk"),e),this.img=null}}},filters:{marked:s},beforeDestory:function(){this._closeEvent&&this._closeEvent.remove()}}},13:function(t,e,i){e=t.exports=i(4)(),e.push([t.id,".md-container>div{padding:5px}.md-container textarea{border:0;width:100%;height:100%;padding:0;outline:0;resize:none}.md-container{border:1px solid #ddd}.md-textarea{border-right:1px solid #ddd}.btn-mk,.tools-btn{position:relative;display:inline-block}.btn-mk{padding:4px 5px;background:#eee;border:1px solid #ccc;color:#333;font-size:12px;cursor:pointer;text-align:center;border-radius:3px;top:-9px}.btn-mk-wrap{position:absolute;display:block;border:1px solid #eee;box-shadow:0 5px 5px rgba(0,0,0,.2);background:#fff;padding:8px;top:30px;left:0;z-index:9;width:330px}.length-lg{width:250px!important}.md-html{overflow-y:auto;overflow-x:auto;position:relative;background:#fff}.md-html .glyphicon{position:absolute;top:10px;right:10px;display:none;cursor:pointer}.md-html:hover .glyphicon{display:block}.md-html-full{position:fixed;top:0;left:0;width:100%;height:100%!important;z-index:9999}.md-tools .webuploader-pick{padding:4px 5px;background:#eee;border:1px solid #ccc;color:#333;font-size:12px}",""])},14:function(t,e,i){(function(e){(function(){function e(t){this.tokens=[],this.tokens.links={},this.options=t||c.defaults,this.rules=u.normal,this.options.gfm&&(this.options.tables?this.rules=u.tables:this.rules=u.gfm)}function i(t,e){if(this.options=e||c.defaults,this.links=t,this.rules=p.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function s(t){this.options=t||{}}function o(t){this.tokens=[],this.token=null,this.options=t||c.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function n(t){return t.replace(/&([#\w]+);/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function r(t,e){return t=t.source,e=e||"",function i(s,o){return s?(o=o.source||o,o=o.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(s,o),i):new RegExp(t,e)}}function a(){}function d(t){for(var e,i,s=1;s<arguments.length;s++){e=arguments[s];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}function c(t,i,s){if(s||"function"==typeof i){s||(s=i,i=null),i=d({},c.defaults,i||{});var n,r,a=i.highlight,u=0;try{n=e.lex(t,i)}catch(p){return s(p)}r=n.length;var h=function(t){if(t)return i.highlight=a,s(t);var e;try{e=o.parse(n,i)}catch(l){t=l}return i.highlight=a,t?s(t):s(null,e)};if(!a||a.length<3)return h();if(delete i.highlight,!r)return h();for(;u<n.length;u++)!function(t){return"code"!==t.type?--r||h():a(t.text,t.lang,function(e,i){return e?h(e):null==i||i===t.text?--r||h():(t.text=i,t.escaped=!0,void(--r||h()))})}(n[u])}else try{return i&&(i=d({},c.defaults,i)),o.parse(e.lex(t,i),i)}catch(p){if(p.message+="\nPlease report this to https://github.com/chjj/marked.",(i||c.defaults).silent)return"<p>An error occured:</p><pre>"+l(p.message+"",!0)+"</pre>";throw p}}var u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};u.bullet=/(?:[*+-]|\d+\.)/,u.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,u.item=r(u.item,"gm")(/bull/g,u.bullet)(),u.list=r(u.list)(/bull/g,u.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+u.def.source+")")(),u.blockquote=r(u.blockquote)("def",u.def)(),u._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",u.html=r(u.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,u._tag)(),u.paragraph=r(u.paragraph)("hr",u.hr)("heading",u.heading)("lheading",u.lheading)("blockquote",u.blockquote)("tag","<"+u._tag)("def",u.def)(),u.normal=d({},u),u.gfm=d({},u.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),u.gfm.paragraph=r(u.paragraph)("(?!","(?!"+u.gfm.fences.source.replace("\\1","\\2")+"|"+u.list.source.replace("\\1","\\3")+"|")(),u.tables=d({},u.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=u,e.lex=function(t,i){var s=new e(i);return s.lex(t)},e.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},e.prototype.token=function(t,e,i){for(var s,o,l,n,r,a,d,c,p,t=t.replace(/^ +$/gm,"");t;)if((l=this.rules.newline.exec(t))&&(t=t.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(t))t=t.substring(l[0].length),l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?l:l.replace(/\n+$/,"")});else if(l=this.rules.fences.exec(t))t=t.substring(l[0].length),this.tokens.push({type:"code",lang:l[2],text:l[3]||""});else if(l=this.rules.heading.exec(t))t=t.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});else if(e&&(l=this.rules.nptable.exec(t))){for(t=t.substring(l[0].length),a={type:"table",header:l[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3].replace(/\n$/,"").split("\n")},c=0;c<a.align.length;c++)/^ *-+: *$/.test(a.align[c])?a.align[c]="right":/^ *:-+: *$/.test(a.align[c])?a.align[c]="center":/^ *:-+ *$/.test(a.align[c])?a.align[c]="left":a.align[c]=null;for(c=0;c<a.cells.length;c++)a.cells[c]=a.cells[c].split(/ *\| */);this.tokens.push(a)}else if(l=this.rules.lheading.exec(t))t=t.substring(l[0].length),this.tokens.push({type:"heading",depth:"="===l[2]?1:2,text:l[1]});else if(l=this.rules.hr.exec(t))t=t.substring(l[0].length),this.tokens.push({type:"hr"});else if(l=this.rules.blockquote.exec(t))t=t.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,e,!0),this.tokens.push({type:"blockquote_end"});else if(l=this.rules.list.exec(t)){for(t=t.substring(l[0].length),n=l[2],this.tokens.push({type:"list_start",ordered:n.length>1}),l=l[0].match(this.rules.item),s=!1,p=l.length,c=0;p>c;c++)a=l[c],d=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(d-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+d+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(r=u.bullet.exec(l[c+1])[0],n===r||n.length>1&&r.length>1||(t=l.slice(c+1).join("\n")+t,c=p-1)),o=s||/\n\n(?!\s*$)/.test(a),c!==p-1&&(s="\n"===a.charAt(a.length-1),o||(o=s)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(a,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(l=this.rules.html.exec(t))t=t.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:l[0]});else if(!i&&e&&(l=this.rules.def.exec(t)))t=t.substring(l[0].length),this.tokens.links[l[1].toLowerCase()]={href:l[2],title:l[3]};else if(e&&(l=this.rules.table.exec(t))){for(t=t.substring(l[0].length),a={type:"table",header:l[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<a.align.length;c++)/^ *-+: *$/.test(a.align[c])?a.align[c]="right":/^ *:-+: *$/.test(a.align[c])?a.align[c]="center":/^ *:-+ *$/.test(a.align[c])?a.align[c]="left":a.align[c]=null;for(c=0;c<a.cells.length;c++)a.cells[c]=a.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(e&&(l=this.rules.paragraph.exec(t)))t=t.substring(l[0].length),this.tokens.push({type:"paragraph",text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1]});else if(l=this.rules.text.exec(t))t=t.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=r(p.link)("inside",p._inside)("href",p._href)(),p.reflink=r(p.reflink)("inside",p._inside)(),p.normal=d({},p),p.pedantic=d({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=d({},p.normal,{escape:r(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:r(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=d({},p.gfm,{br:r(p.br)("{2,}","*")(),text:r(p.gfm.text)("{2,}","*")()}),i.rules=p,i.output=function(t,e,s){var o=new i(e,s);return o.output(t)},i.prototype.output=function(t){for(var e,i,s,o,n="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),n+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(i=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),s=this.mangle("mailto:")+i):(i=l(o[1]),s=i),n+=this.renderer.link(s,null,i);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),t=t.substring(o[0].length),n+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):l(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),this.inLink=!0,n+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){n+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,n+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),n+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),n+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),n+=this.renderer.codespan(l(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),n+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),n+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),n+=this.renderer.text(l(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(o[0].length),i=l(o[1]),s=i,n+=this.renderer.link(s,null,i);return n},i.prototype.outputLink=function(t,e){var i=l(e.href),s=e.title?l(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(i,s,this.output(t[1])):this.renderer.image(i,s,l(t[1]))},i.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},i.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,i="",s=t.length,o=0;s>o;o++)e=t.charCodeAt(o),Math.random()>.5&&(e="x"+e.toString(16)),i+="&#"+e+";";return i},s.prototype.code=function(t,e,i){if(this.options.highlight){var s=this.options.highlight(t,e);null!=s&&s!==t&&(i=!0,t=s)}return e?'<pre><code class="'+this.options.langPrefix+l(e,!0)+'">'+(i?t:l(t,!0))+"\n</code></pre>\n":"<pre><code>"+(i?t:l(t,!0))+"\n</code></pre>"},s.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},s.prototype.html=function(t){return t},s.prototype.heading=function(t,e,i){return"<h"+e+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(t,e){var i=e?"ol":"ul";return"<"+i+">\n"+t+"</"+i+">\n"},s.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},s.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},s.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},s.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},s.prototype.tablecell=function(t,e){var i=e.header?"th":"td",s=e.align?"<"+i+' style="text-align:'+e.align+'">':"<"+i+">";return s+t+"</"+i+">\n"},s.prototype.strong=function(t){return"<strong>"+t+"</strong>"},s.prototype.em=function(t){return"<em>"+t+"</em>"},s.prototype.codespan=function(t){return"<code>"+t+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(t){return"<del>"+t+"</del>"},s.prototype.link=function(t,e,i){if(this.options.sanitize){try{var s=decodeURIComponent(n(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return""}if(0===s.indexOf("javascript:")||0===s.indexOf("vbscript:"))return""}var l='<a href="'+t+'"';return e&&(l+=' title="'+e+'"'),l+=">"+i+"</a>"},s.prototype.image=function(t,e,i){var s='<img src="'+t+'" alt="'+i+'"';return e&&(s+=' title="'+e+'"'),s+=this.options.xhtml?"/>":">"},s.prototype.text=function(t){return t},o.parse=function(t,e,i){var s=new o(e,i);return s.parse(t)},o.prototype.parse=function(t){this.inline=new i(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,i,s,o,l="",n="";for(i="",t=0;t<this.token.header.length;t++)s={header:!0,align:this.token.align[t]},i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(l+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],i="",o=0;o<e.length;o++)i+=this.renderer.tablecell(this.inline.output(e[o]),{header:!1,align:this.token.align[o]});n+=this.renderer.tablerow(i)}return this.renderer.table(l,n);case"blockquote_start":for(var n="";"blockquote_end"!==this.next().type;)n+=this.tok();return this.renderer.blockquote(n);case"list_start":for(var n="",r=this.token.ordered;"list_end"!==this.next().type;)n+=this.tok();return this.renderer.list(n,r);case"list_item_start":for(var n="";"list_item_end"!==this.next().type;)n+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(n);case"loose_item_start":for(var n="";"list_item_end"!==this.next().type;)n+=this.tok();return this.renderer.listitem(n);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,c.options=c.setOptions=function(t){return d(c.defaults,t),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1},c.Parser=o,c.parser=o.parse,c.Renderer=s,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=i,c.inlineLexer=i.output,c.parse=c,t.exports=c}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(e,function(){return this}())},15:function(t,e){t.exports='<div> <div class=md-tools> <upload :id="\'pick-\' + id" text="<span class=\'glyphicon glyphicon-paperclip\'></span> 插入图片" :img.sync=img showimg=false></upload> <div class=tools-btn> <a href=javascript:; class=btn-mk @click.stop=toggleLink();> <span class="glyphicon glyphicon-link"></span> 插入链接 </a> <div class="btn-mk-wrap btn-link-wrap" v-show=linkWrap> <form action="" class=form-inline @submit.prevent=addLink> <div class=form-group> <input type=url v-model=link class="length-lg form-control" placeholder=请输入正确的链接 required> </div> <button type=submit class="btn btn-default">添加</button> </form> </div> </div> </div> <div class="md-container clearfix"> <div class="col-md-6 md-textarea" :style={height:height}> <textarea class=textarea-mk v-model=input debounce=300></textarea> </div> <div class="col-md-6 md-html" :style={height:height}> <div v-html="input | marked"></div> <span class="glyphicon glyphicon-fullscreen" @click=full> </span> </div> </div> <a href=http://www.jianshu.com/p/1e402922ee32 target=_blank>markdown写法介绍</a> </div>'},16:function(t,e,i){var s,o;i(18),s=i(12),o=i(15),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},18:function(t,e,i){var s=i(13);"string"==typeof s&&(s=[[t.id,s,""]]);i(5)(s,{});s.locals&&(t.exports=s.locals)},31:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}var o=i(1),l=s(o),n=i(9),r={sortId:10,appSortId:10,ishidden:1,type:1,img:null,unit:null,minOrder:null,price:null,title:null},a={sortId:10,ishidden:1},d={sortId:10,state:1};t.exports={data:function(){return{visibility:"product",id:this.$route.params.id,showProductModal:!1,showMenuModal:!1,showFloorModal:!1,info:{},infoCopy:{},products:[],product:$.extend({},r,{marketId:this.id}),productIndex:"",productPage:{total:null,current:1,perPage:10},search:{floorId:null,type:null},floors:[],floor:$.extend({},d,{marketId:this.id}),floorIndex:"",menus:[],menu:$.extend({},a,{marketId:this.id}),menuIndex:"",marketFloor:[]}},route:{data:function(t){this.getInfo(),this.getProduct(),this.getMenu(),this.getFloor(),this.getMarketFloor()}},methods:{getInfo:function(){var t=this;$.ajax({url:domain+"/market/one/"+this.id,type:"GET",dataType:"json"}).done(function(e){1==e.status&&e.data&&(t.info=e.data,t.infoCopy=$.extend({},t.info))})},saveInfo:function(){var t=this;$.ajax({url:domain+"/market",type:"post",dataType:"json",data:this.infoCopy}).done(function(e){1==e.status&&(alert("保存成功"),t.info=$.extend({},t.infoCopy))})},filter:function(t){this.search=$.extend(this.search,t),this.productPage.current=1,this.getProduct()},pageCallback:function(t){this.productPage.current=t,this.getProduct()},getProduct:function(){var t=this,e=$.extend({},this.productPage,this.search);$.ajax({url:domain+"/market/"+this.id+"/product",type:"GET",dataType:"json",data:e}).done(function(e){1==e.status&&e.data&&(t.products=e.data,t.productPage.total=e.count)})},addProduct:function(){this.product=$.extend({},r,{marketId:this.id}),this.showProductModal=!0},editProduct:function(t){this.product=$.extend({},this.products[t]),this.productIndex=t,this.showProductModal=!0},saveProduct:function(){var t=this,e=JSON.parse((0,l["default"])(this.product));e.pId=this.id,$.ajax({url:domain+"/market/product",type:"POST",dataType:"json",data:e}).done(function(i){1==i.status&&(e._id?t.products.$set(t.productIndex,e):(e._id=i.data._id,t.products.push(e)),t.showProductModal=!1)})},delProduct:function(t,e){var i=this;confirm("确定删除？")&&t&&$.ajax({url:domain+"/market/product/"+t,type:"delete"}).done(function(t){1==t.status&&i.products.splice(e,1)})},getFloor:function(){var t=this;$.ajax({url:domain+"/market/"+this.id+"/floor",type:"GET"}).done(function(e){"1"==e.status&&e.data&&(t.floors=e.data)})},addFloor:function(){this.floor=$.extend({},d),this.showFloorModal=!0},editFloor:function(t){var e=this;e.floor=$.extend({},e.floors[t],{marketId:this.id}),e.floorIndex=t,this.showFloorModal=!0},saveFloor:function(){var t=this,e=JSON.parse((0,l["default"])(t.floor));return $.ajax({url:domain+"/market/"+this.id+"/floor",type:"post",dataType:"json",data:e}).done(function(i){1==i.status&&(e._id?t.floors.$set(t.floorIndex,e):(e._id=i.data._id,t.floors.push(e)),t.showFloorModal=!1)}),!1},delFloor:function(t,e){var i=this;t&&$.ajax({url:domain+"/market/"+this.id+"/floor/"+t,type:"delete"}).done(function(t){1==t.status&&i.floors.splice(e,1)})},getMenu:function(){var t=this;$.ajax({url:domain+"/market/"+this.id+"/menu",type:"GET",dataType:"json"}).done(function(e){1==e.status&&e.data&&(t.menus=n(e.data,t.id),console.log(t.menus))})},addMenu:function(t,e,i){e&&(a.parentid=e),t=t||1,this.menuIndex=i,this.menu=$.extend({parentid:this.id,marketId:this.id},a,{zIndex:t}),this.showMenuModal=!0},editMenu:function(t,e,i){i=i||[],this.menuIndex=i,this.menu=$.extend({marketId:this.id},e,{zIndex:t}),this.showMenuModal=!0},saveMenu:function(){var t=this,e=JSON.parse((0,l["default"])(this.menu));e.marketId=this.id,$.ajax({url:domain+"/market/menu",type:"POST",dataType:"json",data:e}).done(function(i){if(1==i.status){if(e._id)switch(e.zIndex){case 1:t.menus.$set(t.menuIndex[0],e);break;case 2:t.menus[t.menuIndex[0]].children.$set(t.menuIndex[1],e)}else switch(e._id=i.data._id,e.zIndex){case 1:e.children=[],t.menus.push(e);break;case 2:t.menus[t.menuIndex[0]].children.push(e)}t.showMenuModal=!1}})},delMenu:function(t,e,i){var s=this;e&&$.ajax({url:domain+"/market/menu/"+e,type:"delete"}).done(function(e){if(1==e.status)switch(t){case 1:s.menus.splice(i[0],1);break;case 2:s.menus[i[0]].children.splice(i[1],1)}})},getMarketFloor:function(){var t=this;$.ajax({url:domain+"/market/floor",type:"GET"}).done(function(e){"1"==e.status&&e.data&&(t.marketFloor=e.data)})},getJavaProduct:function(){var t=this;return this.product.id?void $.ajax({url:"/productDetail/productInfo/"+this.product.id+".cf"}).done(function(e){0==e.code?($.extend(t.product,e.data),t.product.title=e.data.name):alert("获取失败")}):alert("请输入id")}},watch:{visibility:function(){this.infoCopy=$.extend({},this.info)}},filters:{floorText:function(t){var e=t;if(t)for(var i=this.floors.length-1;i>=0;i--)if(this.floors[i]._id==t){e=this.floors[i].name;break}return e},areaText:function(t){var e="";switch(t=~~t){case 1:e="banner";break;case 2:e="banner右边图";break;case 3:e="楼层下方图";break;case 4:e="banner下方图";break;case 5:e="右下角图";break;default:e="阿卡林图片"}return e}},components:{markdown:i(16),dropdown:i(8)}}},61:function(t,e){t.exports='<side-menu></side-menu> <div class=content-wrapper> <div class=content-header> <h1>{{ info.name }}</h1> <ol class=breadcrumb> <li><a href=/ ><i class="fa fa-dashboard"></i> 首页</a></li> <li><a v-link="{ path: \'/market\' }">专业市场</a></li> <li class=active>{{ info.name }}</li> </ol> </div> <div class=content> <div class=mb10> <a class="btn btn-danger" href=/market/{{id}} target=_blank>预览</a> </div> <div class="nav-tabs-custom theme-panel"> <ul class="nav nav-tabs"> <li :class="{active: visibility == \'product\'}" @click="visibility=\'product\'"> <a href=javascript:;> 产品 </a> </li> <li :class="{active: visibility == \'floor\'}" @click="visibility=\'floor\'"> <a href=javascript:;> 楼层 </a> </li> <li :class="{active: visibility == \'menu\'}" @click="visibility=\'menu\'"> <a href=javascript:;> 菜单 </a> </li> <li :class="{active: visibility == \'base\'}" @click="visibility=\'base\'"> <a href=javascript:;> 基本信息 </a> </li> <li :class="{active: visibility == \'introduce\'}" @click="visibility=\'introduce\'"> <a href=javascript:;> 市场介绍 </a> </li> </ul> <div class=tab-content> <div class=row> <div class=col-md-12 v-show="visibility == \'product\'"> <div class=mb10> <a href=javascript:; class="btn btn-primary" @click=addProduct> 添加产品 </a> </div> <table class="table table-bordered table-hover dataTable"> <thead> <tr> <th width=40%>名字</th> <th>价格</th> <th> <dropdown> <a href=javascript:; data-toggle=dropdown> 显示位置 <span class=caret></span> </a> <ul slot=dropdown-menu class="dropdown-menu dropdown-area"> <li @click=filter({type:null})><a href=javascript:;>全部</a></li> <li @click=filter({type:1})><a href=javascript:;>banner</a></li> <li @click=filter({type:2})><a href=javascript:;>banner右边图</a></li> <li @click=filter({type:3})><a href=javascript:;>楼层下方图</a></li> <li @click=filter({type:4})><a href=javascript:;>banner下方图</a></li> <li @click=filter({type:5})><a href=javascript:;>右下角图</a></li> </ul> </dropdown> </th> <th> <dropdown> <a href=javascript:; data-toggle=dropdown> 楼层 <span class=caret></span> </a> <ul slot=dropdown-menu class="dropdown-menu dropdown-area"> <li @click="filter({floorId: null})"><a href=javascript:;>全部</a></li> <li v-for="floor in floors" @click="filter({floorId: floor._id})"><a href=javascript:;>{{ floor.name }}</a></li> </ul> </dropdown> </th> <th>管理</th> </tr> </thead> <tbody> <tr v-for="item in products"> <td> <div class=media> <a :href=item.img target=_blank class=media-left> <img :src="item.img | resize" width=100px> </a> <div class=media-body> <h4 class=media-heading>{{ item.title }}</h4> <p>{{ item.desc }}</p> </div> </div> </td> <td>{{ item.price }}</td> <td>{{ item.type | areaText }}</td> <td>{{ item.floorId | floorText }}</td> <td> <button class="btn btn-sm btn-primary" @click=editProduct($index)>编辑</button> <button class="btn btn-sm btn-default" @click="delProduct(item._id, $index)">删除</button> </td> </tr> </tbody> </table> <div class="col-md-12 text-right"> <pages :total.sync=productPage.total :current=productPage.current :per-page=productPage.perPage :page-changed=pageCallback></pages> </div> </div> <div class=col-md-12 v-show="visibility == \'floor\'"> <div class=mb10> <button class="btn btn-primary" @click=addFloor>添加楼层</button> </div> <div class=box> <div class=box-header> <h3 class=box-title>楼层</h3> </div> <div class="box-body table-responsive no-padding"> <table class="table table-hover"> <tr> <th width=50%>名字</th> <th>操作</th> </tr> <tr v-for="item in floors"> <td> {{ item.name }} </td> <td> <button class="btn btn-primary btn-xs" @click=editFloor($index)>编辑</button> <button class="btn btn-default btn-xs" @click="delFloor(item._id, $index)">删除</button> </td> </tr> </table> </div> </div> </div> <div class=col-md-12 v-show="visibility == \'menu\'"> <div class=mb10> <button class="btn btn-primary" @click=addMenu(1)>添加菜单</button> </div> <div class=row> <div class="col-md-3 col-md-4" v-for="(i, items) in menus"> <div class="box box-default"> <div class="box-header with-border"> <h3 class=box-title> {{items.name}} </h3> <div class="box-tools pull-right"> <button type=button class="btn btn-box-tool" @click="addMenu(2, items._id, [i])"> 添加子类 </button> <button type=button class="btn btn-box-tool" @click="editMenu(1, items, [i])"> 编辑 </button> <button type=button class="btn btn-box-tool" @click="delMenu(1, items._id, [i])"> 删除 </button> </div> </div> <div class=box-body style="display: block"> <ul class=contacts-list> <li class="" v-for="(index, item) in items.children"> <span class=pull-right> <button type=button class="btn btn-box-tool" @click="editMenu(2, item, [i, index])"> 编辑 </button> <button type=button class="btn btn-box-tool" @click="delMenu(2, item._id, [i, index])"> 删除 </button> </span> {{ item.name }} </li> </ul> </div> </div> </div> </div> </div> <div class=col-md-12 v-show="visibility == \'base\'"> <form class=form-horizontal v-ajax-submit @submit.prevent=saveInfo> <div class=box-body> <div class=form-group> <label for="" class="col-sm-2 control-label">市场名字</label> <div class=col-sm-5> <input type=text class=form-control v-model=infoCopy.name placeholder=专业市场名 required> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">副标题</label> <div class=col-sm-5> <input type=text class=form-control v-model=infoCopy.title placeholder=专业市场名> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">图片</label> <div class=col-sm-5> <upload id=pick2 text=上传图片 :img.sync=infoCopy.img></upload> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">logo</label> <div class=col-sm-5> <upload id=pick-marketlogo text=上传图片 :img.sync=infoCopy.logo></upload> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">关键词</label> <div class=col-sm-5> <input type=text class=form-control v-model=infoCopy.keywords placeholder=以逗号分隔> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">描述</label> <div class=col-sm-5> <textarea cols=30 rows=10 v-model=infoCopy.description></textarea> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">所属楼层</label> <div class=col-sm-5> <select v-model=infoCopy.floorId required> <option v-for="floor in marketFloor" :value=floor._id>{{ floor.name }}</option> </select> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">排序</label> <div class=col-sm-5> <input type=number class=form-control v-model=infoCopy.sortId placeholder=""> </div> </div> <div class=form-group> <label for="" class="col-sm-2 control-label">app排序</label> <div class=col-sm-5> <input type=number class=form-control v-model=infoCopy.appSortId placeholder=""> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">是否显示</label> <div class=col-sm-5> <label class=radio-inline> <input type=radio name=isTop value=1 v-model=infoCopy.ishidden> 显示 </label> <label class=radio-inline> <input type=radio name=isTop value=0 v-model=infoCopy.ishidden> 隐藏 </label> </div> </div> <div class=form-group> <div class="col-sm-offset-2 col-sm-5"> <button type=submit class="btn btn-info">保存</button> </div> </div> </div> </form> </div> <div class=col-md-12 v-show="visibility == \'introduce\'"> <form v-ajax-submit @submit.prevent=saveInfo> <div class=mb10> <markdown :input.sync=infoCopy.content></markdown> </div> <button type=submit class="btn btn-primary">保存</button> </form> </div> </div> </div> </div> </div> </div> <modal :show.sync=showProductModal title=产品> <div slot=modal-body class=modal-body> <form class=form-horizontal v-ajax-submit @submit.prevent=saveProduct> <div class=form-horizontal> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品id</label> <div class=col-sm-7> <input type=text class=form-control v-model=product.id required> </div> <div class=col-sm-3> <button class="btn btn-default" type=button @click=getJavaProduct>获取</button> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品名字</label> <div class=col-sm-10> <input type=text class=form-control v-model=product.title required> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品描述</label> <div class=col-sm-10> <input type=text class=form-control v-model=product.desc> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品图片</label> <div class=col-sm-10> <upload id=pick1 text=上传图片 :img.sync=product.img></upload> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品价格</label> <div class=col-sm-4> <input type=text class=form-control placeholder=价格 v-model=product.price> </div> <div class=col-sm-3> <input type=text class=form-control placeholder=单位 v-model=product.unit> </div> <div class=col-sm-3> <input type=text class=form-control placeholder=起订量 v-model=product.minOrder> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">楼层</label> <div class=col-sm-10> <select class=form-control v-model=product.floorId required> <option v-for="floor in floors" :value=floor._id>{{ floor.name }}</option> </select> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品类型</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=isTop value=1 v-model=product.type> banner </label> <label class=radio-inline> <input type=radio name=isTop value=2 v-model=product.type> banner右边图 </label> <label class=radio-inline> <input type=radio name=isTop value=3 v-model=product.type> 楼层下方图 </label> <label class=radio-inline> <input type=radio name=isTop value=4 v-model=product.type> banner下方图 </label> <label class=radio-inline> <input type=radio name=isTop value=5 v-model=product.type> 右下角图 </label> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品排序</label> <div class=col-sm-10> <input type=number class=form-control v-model=product.sortId> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">app产品排序</label> <div class=col-sm-10> <input type=number class=form-control v-model=product.appSortId> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">产品是否显示</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=product.ishidden value=1 v-model=product.ishidden> 显示 </label> <label class=radio-inline> <input type=radio name=product.ishidden value=0 v-model=product.ishidden> 隐藏 </label> </div> </div> <div class=form-group> <div class="col-sm-10 col-sm-offset-2"> <button class="btn btn-primary" type=submit>提交</button> </div> </div> </div> </form> </div> <div slot=modal-footer></div> </modal> <modal :show.sync=showMenuModal title=类目> <div slot=modal-body class=modal-body> <form class=form-horizontal v-ajax-submit @submit.prevent=saveMenu> <div class=form-horizontal> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">名字</label> <div class=col-sm-10> <input type=text class=form-control v-model=menu.name required> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">链接</label> <div class=col-sm-10> <input type=url class=form-control v-model=menu.link> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">排序</label> <div class=col-sm-10> <input type=number class=form-control v-model=menu.sortId> </div> </div> <div class=form-group> <label for=inputPassword3 class="col-sm-2 control-label">是否显示</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=ishidden value=1 v-model=menu.ishidden> 是 </label> <label class=radio-inline> <input type=radio name=ishidden value=0 v-model=menu.ishidden> 否 </label> </div> </div> <div class=form-group> <div class="col-sm-10 col-sm-offset-2"> <button class="btn btn-primary" type=submit> 提交 </button> </div> </div> </div> </form> </div> <div slot=modal-footer></div> </modal> <modal :show.sync=showFloorModal title=楼层> <div slot=modal-body class=modal-body> <form class=form-horizontal v-ajax-submit @submit.prevent=saveFloor> <div class=form-horizontal> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">名字</label> <div class=col-sm-10> <input type=text class=form-control v-model=floor.name required> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">banner</label> <div class=col-sm-10> <upload id=pick-foolr :img.sync=floor.img> </upload> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">链接</label> <div class=col-sm-10> <input type=url class=form-control v-model=floor.link> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">排序</label> <div class=col-sm-10> <input type=number class=form-control v-model=floor.sortId> </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-2 control-label">是否显示</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=isTop value=1 v-model=floor.state> 显示 </label> <label class=radio-inline> <input type=radio name=isTop value=0 v-model=floor.state> 隐藏 </label> </div> </div> <div class=form-group> <div class="col-sm-10 col-sm-offset-2"> <button class="btn btn-primary" type=submit>提交</button> </div> </div> </div> </form> </div> <div slot=modal-footer></div> </modal>';
},77:function(t,e,i){var s,o;s=i(31),o=i(61),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)}});
//# sourceMappingURL=4.build.js.map