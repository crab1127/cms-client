{"version":3,"sources":["webpack:///11.build.js","webpack:///./~/babel-runtime/core-js/json/stringify.js?4574********","webpack:///./~/babel-runtime/~/core-js/library/fn/json/stringify.js?834a********","webpack:///./~/babel-runtime/~/core-js/library/modules/_core.js?d611********","webpack:///sample.vue","webpack:///./src/views/sample.vue?9159","webpack:///./src/views/sample.vue?c63d","webpack:///./src/views/sample.vue","webpack:///./src/views/sample.vue?eedf"],"names":["webpackJsonp","1","module","exports","__webpack_require__","default","__esModule","2","core","$JSON","JSON","stringify","it","apply","arguments","3","version","__e","34","_interopRequireDefault","obj","_stringify","_stringify2","floorOpt","name","sortId","state","productOpt","isTop","type","data","showModal","showProModal","upload","floors","currentFloor","$","extend","currentFloorIndex","newFloor","currentFloorId","products","product","productIndex","route","transition","this","getFloor","methods","self","ajax","url","domain","done","res","status","length","_id","addFloor","editFloor","saveFloor","param","parse","dataType","$set","push","switchFloor","id","index","delFloor","confirm","splice","getProduct","floorid","addProduct","editProduct","saveProduct","delProduct","createStatic","alert","watch","val","old","47","64","79","__vue_script__","__vue_template__","options","template","94","content","locals"],"mappings":"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","file":"11.build.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = { \"default\": __webpack_require__(2), __esModule: true };\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar core  = __webpack_require__(3)\n\t  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\n\tmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n\t  return $JSON.stringify.apply($JSON, arguments);\n\t};\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports) {\n\n\tvar core = module.exports = {version: '2.4.0'};\n\tif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ },\n\n/***/ 34:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _stringify = __webpack_require__(1);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar floorOpt = {\n\t  name: '',\n\t  sortId: 1,\n\t  state: '1'\n\t};\n\t\n\tvar productOpt = {\n\t  isTop: '1',\n\t  type: 'b'\n\t};\n\t\n\tmodule.exports = {\n\t  data: function data() {\n\t    return {\n\t      showModal: false,\n\t      showProModal: false,\n\t\n\t      upload: '',\n\t\n\t      floors: [],\n\t      currentFloor: $.extend({}, floorOpt),\n\t      currentFloorIndex: 0,\n\t      newFloor: $.extend({}, floorOpt),\n\t      currentFloorId: null,\n\t\n\t      products: [],\n\t      product: $.extend({}, productOpt),\n\t      productIndex: '' };\n\t  },\n\t  route: {\n\t    data: function data(transition) {\n\t      this.getFloor();\n\t    }\n\t  },\n\t  methods: {\n\t    getFloor: function getFloor() {\n\t      var self = this;\n\t      $.ajax({\n\t        url: domain + '/sample/sort',\n\t        type: 'GET'\n\t      }).done(function (res) {\n\t        if ('1' == res.status && res.data && res.data.length) {\n\t          self.floors = res.data;\n\t\n\t          self.currentFloor = res.data[0];\n\t          self.currentFloorId = self.currentFloor._id;\n\t        }\n\t      });\n\t    },\n\t\n\t    addFloor: function addFloor() {\n\t      var self = this;\n\t      this.newFloor = $.extend({}, floorOpt);\n\t      this.showModal = true;\n\t    },\n\t    editFloor: function editFloor() {\n\t      var self = this;\n\t      self.newFloor = $.extend({}, self.currentFloor);\n\t      this.showModal = true;\n\t    },\n\t    saveFloor: function saveFloor() {\n\t      var self = this;\n\t      var param = JSON.parse((0, _stringify2.default)(self.newFloor));\n\t      $.ajax({\n\t        url: domain + '/sample/sort',\n\t        type: 'post',\n\t        dataType: 'json',\n\t        data: param\n\t      }).done(function (res) {\n\t        if (1 == res.status) {\n\t          if (param._id) {\n\t            self.floors.$set(self.currentFloorIndex, param);\n\t          } else {\n\t            param._id = res.data._id;\n\t            self.floors.push(param);\n\t          }\n\t          self.showModal = false;\n\t        }\n\t      });\n\t      return false;\n\t    },\n\t    switchFloor: function switchFloor(id, index) {\n\t      this.currentFloorIndex = index;\n\t      this.currentFloor = this.floors[index];\n\t      this.currentFloorId = this.currentFloor._id;\n\t    },\n\t\n\t    delFloor: function delFloor() {\n\t      var self = this;\n\t      if (confirm('确定删除？')) {\n\t        if (this.currentFloor._id) {\n\t          $.ajax({\n\t            url: domain + '/sample/sort/' + this.currentFloor._id,\n\t            type: 'delete'\n\t          }).done(function (res) {\n\t            if (1 == res.status) {\n\t              self.floors.splice(self.currentFloorIndex, 1);\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t\n\t    getProduct: function getProduct() {\n\t      var self = this;\n\t      var floorid = this.currentFloor._id;\n\t      $.ajax({\n\t        url: domain + '/sample/product/' + floorid,\n\t        type: 'GET',\n\t        dataType: 'json'\n\t      }).done(function (res) {\n\t        if (1 == res.status) {\n\t          self.products = res.data;\n\t        }\n\t      });\n\t    },\n\t    addProduct: function addProduct() {\n\t      this.product = $.extend({}, productOpt);\n\t      this.showProModal = true;\n\t    },\n\t    editProduct: function editProduct(index) {\n\t      this.product = this.products[index];\n\t      this.productIndex = index;\n\t      this.showProModal = true;\n\t    },\n\t\n\t    saveProduct: function saveProduct() {\n\t      var self = this;\n\t      var param = JSON.parse((0, _stringify2.default)(this.product));\n\t\n\t      param.floorid = this.currentFloor._id;\n\t      $.ajax({\n\t        url: domain + '/sample/product',\n\t        type: 'POST',\n\t        dataType: 'json',\n\t        data: param\n\t      }).done(function (res) {\n\t        if (1 == res.status) {\n\t          if (param._id) {\n\t            self.products.$set(self.productIndex, param);\n\t          } else {\n\t            param._id = res.data._id;\n\t            self.products.push(param);\n\t          }\n\t          self.showProModal = false;\n\t        }\n\t      });\n\t    },\n\t\n\t    delProduct: function delProduct(id, index) {\n\t      var self = this;\n\t      if (confirm('确定删除？')) {\n\t        if (id) {\n\t          $.ajax({\n\t            url: domain + '/sample/product/' + id,\n\t            type: 'delete'\n\t          }).done(function (res) {\n\t            if (1 == res.status) {\n\t              self.products.splice(index, 1);\n\t            }\n\t          });\n\t        }\n\t      }\n\t    },\n\t    createStatic: function createStatic() {\n\t      $.ajax({\n\t        url: domain + '/create/sample',\n\t        type: 'GET'\n\t      }).done(function (res) {\n\t        if (res.status == 1) {\n\t          alert('成功');\n\t        } else {\n\t          alert('失败');\n\t        }\n\t      });\n\t    }\n\t  },\n\t\n\t  watch: {\n\t    'currentFloorId': function currentFloorId(val, old) {\n\t      this.getProduct();\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 47:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(4)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".palent{background:#fff;border:1px solid #ddd;padding:10px}.mb10{margin-bottom:10px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 64:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<side-menu></side-menu> <div class=content-wrapper> <div class=content-header> <h1>样品中心</h1> </div> <div class=content> <div class=mb10> <button class=\\\"btn btn-primary\\\" @click=addProduct> <span class=\\\"glyphicon glyphicon-plus\\\"></span> 添加产品</button> <a class=\\\"btn btn-danger\\\" href=/sample target=_blank>预览</a> </div> <div class=\\\"nav-tabs-custom theme-panel\\\"> <ul class=\\\"nav nav-tabs\\\"> <template v-for=\\\"item in floors\\\"> <li v-if=\\\"$index == currentFloorIndex\\\" class=active @click=\\\"switchFloor(item._id, $index)\\\"> <a href=javascript:;> {{ item.name }} </a> </li> <li v-if=\\\"$index != currentFloorIndex\\\" @click=\\\"switchFloor(item._id, $index)\\\"> <a href=javascript:;> {{ item.name }} </a> </li> </template> <li @click=addFloor> <a href=javascript:;> + 添加分类 </a> </li> </ul> <div class=tab-content> <div class=mb10> <div class=btn-group> <button type=button class=\\\"btn btn-default\\\" @click=editFloor>修改分类</button> <button type=button class=\\\"btn btn-default\\\" @click=delFloor>删除分类</button> </div> </div> <table class=\\\"table table-hover\\\"> <tr> <th style=width:50%>产品</th> <th>价格</th> <th>点赞数</th> <th>管理</th> </tr> <tr v-for=\\\"item in products\\\"> <td> <a class=media v-link=item.link target=_blank> <div class=media-left> <img v-bind:src=\\\"item.img | resize\\\" width=100> </div> <div class=media-body> {{ item.name }} </div> </a> </td> <td>{{ item.price }}</td> <td>{{ item.like }}</td> <td> <button class=\\\"btn btn-sm btn-primary\\\" @click=editProduct($index)>编辑</button> <button class=\\\"btn btn-sm btn-default\\\" @click=\\\"delProduct(item._id, $index)\\\">删除</button> </td> </tr> </table> </div> </div> </div> </div> <modal :show.sync=showModal title=分类> <div slot=modal-body class=modal-body> <form class=form-horizontal v-ajax-submit @submit.prevent=saveFloor> <div class=form-horizontal> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">分类名</label> <div class=col-sm-10> <input type=text class=form-control v-model=newFloor.name required> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">排序</label> <div class=col-sm-10> <input type=number class=form-control v-model=newFloor.sortId> </div> </div> <div class=form-group> <label for=inputPassword3 class=\\\"col-sm-2 control-label\\\">是否显示</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=state value=1 v-model=newFloor.state> 是 </label> <label class=radio-inline> <input type=radio name=state value=0 v-model=newFloor.state> 否 </label> </div> </div> <div class=form-group> <div class=\\\"col-sm-10 col-sm-offset-2\\\"> <button class=\\\"btn btn-primary\\\" type=submit> 提交 </button> </div> </div> </div> </form> </div> <div slot=modal-footer></div> </modal> <modal :show.sync=showProModal title=产品> <div slot=modal-body class=modal-body> <form class=form-horizontal v-ajax-submit @submit.prevent=saveProduct> <div class=form-horizontal> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品名</label> <div class=col-sm-10> <input type=text class=form-control v-model=product.name required> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品图片</label> <div class=col-sm-10> <upload id=pick-img :img.sync=product.img></upload> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">价格</label> <div class=col-sm-10> <input type=text class=form-control v-model=product.price> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">点赞数</label> <div class=col-sm-10> <input type=number class=form-control v-model=product.like> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品链接</label> <div class=col-sm-10> <input type=url class=form-control v-model=product.link> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品类型</label> <div class=col-sm-10> <select class=form-control v-model=product.pid required> <option v-for=\\\"item in floors\\\" :value=item._id> {{ item.name }} </option> </select> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">是否显示</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=isTop value=1 v-model=product.isTop> 显示 </label> <label class=radio-inline> <input type=radio name=isTop value=0 v-model=product.isTop> 隐藏 </label> </div> </div> <div class=form-group> <div class=\\\"col-sm-10 col-sm-offset-2\\\"> <button class=\\\"btn btn-primary\\\" type=submit>提交</button> </div> </div> </div> </form> </div> <div slot=modal-footer></div> </modal>\";\n\n/***/ },\n\n/***/ 79:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(94)\n\t__vue_script__ = __webpack_require__(34)\n\t__vue_template__ = __webpack_require__(64)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 94:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(47);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(5)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./sample.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./sample.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 11.build.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/json/stringify.js\n ** module id = 1\n ** module chunks = 0 3 4 5 6 7 8 9 10 11\n **/","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/json/stringify.js\n ** module id = 2\n ** module chunks = 0 3 4 5 6 7 8 9 10 11\n **/","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/_core.js\n ** module id = 3\n ** module chunks = 0 3 4 5 6 7 8 9 10 11\n **/","<template>\r\n  <side-menu></side-menu>\r\n  <div class=\"content-wrapper\">\r\n    <div class=\"content-header\">\r\n      <h1>样品中心</h1>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"mb10\">\r\n        <button class=\"btn btn-primary\" @click=\"addProduct\"> <span class=\"glyphicon glyphicon-plus\"></span> 添加产品</button>\r\n        <a class=\"btn btn-danger\" href=\"/sample\" target=\"_blank\">预览</a>\r\n        <!-- <button class=\"btn btn-danger\" @click=\"createStatic\">生成静态页</button> -->\r\n      </div>\r\n      <div class=\"nav-tabs-custom theme-panel\">\r\n        <ul class=\"nav nav-tabs\">\r\n          <template v-for=\"item in floors\">\r\n            <li v-if=\"$index == currentFloorIndex\" class=\"active\" @click=\"switchFloor(item._id, $index)\">\r\n              <a href=\"javascript:;\">\r\n                {{ item.name }}\r\n              </a>\r\n            </li>\r\n            <li v-if=\"$index != currentFloorIndex\" @click=\"switchFloor(item._id, $index)\">\r\n              <a href=\"javascript:;\">\r\n                {{ item.name }}\r\n              </a>\r\n            </li>\r\n          </template>\r\n          <li @click=\"addFloor\">\r\n            <a href=\"javascript:;\">\r\n              + 添加分类\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        <div class=\"tab-content\">\r\n          <div class=\"mb10\">\r\n            <div class=\"btn-group\">\r\n              <button type=\"button\" class=\"btn btn-default\" @click=\"editFloor\">修改分类</button>\r\n              <button type=\"button\" class=\"btn btn-default\" @click=\"delFloor\">删除分类</button>\r\n            </div>\r\n          </div>\r\n          <table class=\"table table-hover\">\r\n            <tr>\r\n              <th style=\"width:50%\">产品</th>\r\n              <th>价格</th>\r\n              <th>点赞数</th>\r\n              <th>管理</th>\r\n            </tr>\r\n            <tr v-for=\"item in products\">\r\n              <td>\r\n                <a class=\"media\" v-link=\"item.link\" target=\"_blank\">\r\n                  <div class=\"media-left\">\r\n                    <img v-bind:src=\"item.img | resize\" width=\"100\">\r\n                  </div>\r\n                  <div class=\"media-body\">\r\n                    {{ item.name }}\r\n                  </div>\r\n                </a>\r\n              </td>\r\n              <td>{{ item.price }}</td>\r\n              <td>{{ item.like }}</td>\r\n              <td>\r\n                <button class=\"btn btn-sm btn-primary\" @click=\"editProduct($index)\">编辑</button>\r\n                <button class=\"btn btn-sm btn-default\" @click=\"delProduct(item._id, $index)\">删除</button>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!--添加楼层-->\r\n  <modal :show.sync=\"showModal\" title=\"分类\">\r\n    <div slot=\"modal-body\" class=\"modal-body\">\r\n      <form class=\"form-horizontal\" v-ajax-submit @submit.prevent=\"saveFloor\">\r\n        <div class=\"form-horizontal\">\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">分类名</label>\r\n            <div class=\"col-sm-10\">\r\n              <input type=\"text\" class=\"form-control\" v-model=\"newFloor.name\" required>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">排序</label>\r\n            <div class=\"col-sm-10\">\r\n              <input type=\"number\" class=\"form-control\" v-model=\"newFloor.sortId\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputPassword3\" class=\"col-sm-2 control-label\">是否显示</label>\r\n            <div class=\"col-sm-10\">\r\n              <label class=\"radio-inline\">\r\n                <input type=\"radio\" name=\"state\" value=\"1\" v-model=\"newFloor.state\"> 是\r\n              </label>\r\n              <label class=\"radio-inline\">\r\n                <input type=\"radio\" name=\"state\" value=\"0\" v-model=\"newFloor.state\"> 否\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <div class=\"col-sm-10 col-sm-offset-2\">\r\n              <button class=\"btn btn-primary\" type=\"submit\">\r\n                提交\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div slot=\"modal-footer\"></div>\r\n  </modal>\r\n  <!--添加产品-->\r\n  <modal :show.sync=\"showProModal\" title=\"产品\">\r\n    <div slot=\"modal-body\" class=\"modal-body\">\r\n      <form class=\"form-horizontal\" v-ajax-submit @submit.prevent=\"saveProduct\">\r\n        <div class=\"form-horizontal\">\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">产品名</label>\r\n            <div class=\"col-sm-10\">\r\n              <input type=\"text\" class=\"form-control\" v-model=\"product.name\" required>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">产品图片</label>\r\n            <div class=\"col-sm-10\">\r\n              <upload id=\"pick-img\" :img.sync=\"product.img\"></upload>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">价格</label>\r\n            <div class=\"col-sm-10\">\r\n              <input type=\"text\" class=\"form-control\" v-model=\"product.price\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">点赞数</label>\r\n            <div class=\"col-sm-10\">\r\n              <input type=\"number\" class=\"form-control\" v-model=\"product.like\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">产品链接</label>\r\n            <div class=\"col-sm-10\">\r\n              <input type=\"url\" class=\"form-control\" v-model=\"product.link\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">产品类型</label>\r\n            <div class=\"col-sm-10\">\r\n              <select class=\"form-control\" v-model=\"product.pid\" required>\r\n                <option v-for=\"item in floors\" :value=\"item._id\">\r\n                  {{ item.name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">是否显示</label>\r\n            <div class=\"col-sm-10\">\r\n              <label class=\"radio-inline\">\r\n                <input type=\"radio\" name=\"isTop\" value=\"1\" v-model=\"product.isTop\"> 显示\r\n              </label>\r\n              <label class=\"radio-inline\">\r\n                <input type=\"radio\" name=\"isTop\" value=\"0\" v-model=\"product.isTop\"> 隐藏\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <div class=\"col-sm-10 col-sm-offset-2\">\r\n              <button class=\"btn btn-primary\" type=\"submit\">提交</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div slot=\"modal-footer\"></div>\r\n  </modal>\r\n\r\n</template>\r\n<script>\r\n\r\n  //楼层配置\r\n  var floorOpt = {\r\n    name: '',\r\n    sortId: 1,\r\n    state: '1'\r\n  }\r\n\r\n  //产品默认配置\r\n  var productOpt = {\r\n    isTop: '1',\r\n    type: 'b'\r\n  }\r\n\r\n  module.exports = {\r\n    data: function() {\r\n      return {\r\n        showModal: false,\r\n        showProModal: false,\r\n\r\n        upload: '',\r\n\r\n        //楼层\r\n        floors: [],\r\n        currentFloor: $.extend({}, floorOpt), //\r\n        currentFloorIndex: 0,  //当前楼层索引\r\n        newFloor: $.extend({}, floorOpt),\r\n        currentFloorId: null,\r\n\r\n        //产品\r\n        products: [],  //产品集合\r\n        product: $.extend({}, productOpt), //当前产品\r\n        productIndex: '' //当前产品索引\r\n\r\n      }\r\n    },\r\n    route: {\r\n      data: function(transition) {\r\n        this.getFloor();\r\n      }\r\n    },\r\n    methods: {\r\n      //楼层\r\n      //获取楼层\r\n      getFloor: function() {\r\n        var self = this;\r\n        $.ajax({\r\n          url: domain + '/sample/sort',\r\n          type: 'GET'\r\n        })\r\n        .done(function(res) {\r\n          if ('1' == res.status && res.data && res.data.length) {\r\n            self.floors = res.data;\r\n\r\n            self.currentFloor = res.data[0];\r\n            self.currentFloorId = self.currentFloor._id;\r\n          }\r\n        });\r\n      },\r\n      //添加楼层\r\n      addFloor: function() {\r\n        var self = this;\r\n        this.newFloor = $.extend({}, floorOpt);\r\n        this.showModal = true;\r\n      },\r\n      editFloor: function() {\r\n        var self = this;\r\n        self.newFloor = $.extend({}, self.currentFloor);\r\n        this.showModal = true;\r\n      },\r\n      saveFloor: function() {\r\n        var self = this;\r\n        var param = JSON.parse(JSON.stringify(self.newFloor));\r\n        $.ajax({\r\n          url: domain + '/sample/sort',\r\n          type: 'post',\r\n          dataType: 'json',\r\n          data: param\r\n        })\r\n        .done(function(res) {\r\n          if (1 == res.status) {\r\n            if (param._id) {\r\n              self.floors.$set(self.currentFloorIndex, param);\r\n            } else {\r\n              param._id = res.data._id;\r\n              self.floors.push(param);\r\n            }\r\n            self.showModal = false;\r\n          }\r\n        });\r\n        return false;\r\n      },\r\n      switchFloor: function(id, index) {\r\n        this.currentFloorIndex = index;\r\n        this.currentFloor = this.floors[index];\r\n        this.currentFloorId = this.currentFloor._id;\r\n      },\r\n      //删除楼层\r\n      delFloor: function() {\r\n        var self = this;\r\n        if (confirm('确定删除？')) {\r\n          if (this.currentFloor._id) {\r\n            $.ajax({\r\n              url: domain + '/sample/sort/' + this.currentFloor._id,\r\n              type: 'delete',\r\n            })\r\n            .done(function(res) {\r\n              if(1 == res.status) {\r\n                self.floors.splice(self.currentFloorIndex, 1);\r\n              }\r\n            })\r\n          }\r\n        }\r\n      },\r\n\r\n      //楼层产品\r\n      //获取产品\r\n      getProduct: function () {\r\n        var self = this;\r\n        var floorid = this.currentFloor._id;\r\n        $.ajax({\r\n          url: domain + '/sample/product/' + floorid,\r\n          type: 'GET',\r\n          dataType: 'json'\r\n        })\r\n        .done(function(res) {\r\n          if (1 == res.status) {\r\n            self.products = res.data;\r\n          }\r\n        });\r\n      },\r\n      addProduct: function () {\r\n        this.product = $.extend({}, productOpt);\r\n        this.showProModal = true;\r\n      },\r\n      editProduct: function (index) {\r\n        this.product = this.products[index];\r\n        this.productIndex = index;\r\n        this.showProModal = true;\r\n      },\r\n      //保存产品\r\n      saveProduct: function () {\r\n        var self = this;\r\n        var param = JSON.parse(JSON.stringify(this.product));\r\n        //楼层id\r\n        param.floorid = this.currentFloor._id;\r\n        $.ajax({\r\n          url: domain + '/sample/product',\r\n          type: 'POST',\r\n          dataType: 'json',\r\n          data: param\r\n        })\r\n        .done(function(res) {\r\n          if (1 == res.status) {\r\n            if (param._id) {\r\n              self.products.$set(self.productIndex, param);\r\n            } else {\r\n              param._id = res.data._id;\r\n              self.products.push(param);\r\n            }\r\n            self.showProModal = false;\r\n          }\r\n        });\r\n      },\r\n      //删除产品\r\n      delProduct: function (id, index) {\r\n        var self = this;\r\n        if (confirm('确定删除？')) {\r\n          if (id) {\r\n            $.ajax({\r\n              url: domain + '/sample/product/' + id,\r\n              type: 'delete'\r\n            })\r\n            .done(function(res) {\r\n              if (1 == res.status) {\r\n                self.products.splice(index, 1);\r\n              }\r\n            });\r\n          }\r\n        }\r\n      },\r\n      createStatic: function() {\r\n        $.ajax({\r\n          url: domain + '/create/sample',\r\n          type: 'GET'\r\n        })\r\n        .done(function(res) {\r\n          if (res.status == 1) {\r\n            alert('成功')\r\n          } else {\r\n            alert('失败')\r\n          }\r\n        })\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      'currentFloorId': function(val, old) {\r\n        this.getProduct();\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n  .palent{\r\n    background: #fff;\r\n    border:1px solid #ddd;\r\n    padding: 10px;\r\n  }\r\n  .mb10{\r\n    margin-bottom: 10px;\r\n  }\r\n</style>\r\n\n\n\n/** WEBPACK FOOTER **\n ** sample.vue?0750e126\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".palent{background:#fff;border:1px solid #ddd;padding:10px}.mb10{margin-bottom:10px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/sample.vue\n ** module id = 47\n ** module chunks = 11\n **/","module.exports = \"<side-menu></side-menu> <div class=content-wrapper> <div class=content-header> <h1>样品中心</h1> </div> <div class=content> <div class=mb10> <button class=\\\"btn btn-primary\\\" @click=addProduct> <span class=\\\"glyphicon glyphicon-plus\\\"></span> 添加产品</button> <a class=\\\"btn btn-danger\\\" href=/sample target=_blank>预览</a> </div> <div class=\\\"nav-tabs-custom theme-panel\\\"> <ul class=\\\"nav nav-tabs\\\"> <template v-for=\\\"item in floors\\\"> <li v-if=\\\"$index == currentFloorIndex\\\" class=active @click=\\\"switchFloor(item._id, $index)\\\"> <a href=javascript:;> {{ item.name }} </a> </li> <li v-if=\\\"$index != currentFloorIndex\\\" @click=\\\"switchFloor(item._id, $index)\\\"> <a href=javascript:;> {{ item.name }} </a> </li> </template> <li @click=addFloor> <a href=javascript:;> + 添加分类 </a> </li> </ul> <div class=tab-content> <div class=mb10> <div class=btn-group> <button type=button class=\\\"btn btn-default\\\" @click=editFloor>修改分类</button> <button type=button class=\\\"btn btn-default\\\" @click=delFloor>删除分类</button> </div> </div> <table class=\\\"table table-hover\\\"> <tr> <th style=width:50%>产品</th> <th>价格</th> <th>点赞数</th> <th>管理</th> </tr> <tr v-for=\\\"item in products\\\"> <td> <a class=media v-link=item.link target=_blank> <div class=media-left> <img v-bind:src=\\\"item.img | resize\\\" width=100> </div> <div class=media-body> {{ item.name }} </div> </a> </td> <td>{{ item.price }}</td> <td>{{ item.like }}</td> <td> <button class=\\\"btn btn-sm btn-primary\\\" @click=editProduct($index)>编辑</button> <button class=\\\"btn btn-sm btn-default\\\" @click=\\\"delProduct(item._id, $index)\\\">删除</button> </td> </tr> </table> </div> </div> </div> </div> <modal :show.sync=showModal title=分类> <div slot=modal-body class=modal-body> <form class=form-horizontal v-ajax-submit @submit.prevent=saveFloor> <div class=form-horizontal> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">分类名</label> <div class=col-sm-10> <input type=text class=form-control v-model=newFloor.name required> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">排序</label> <div class=col-sm-10> <input type=number class=form-control v-model=newFloor.sortId> </div> </div> <div class=form-group> <label for=inputPassword3 class=\\\"col-sm-2 control-label\\\">是否显示</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=state value=1 v-model=newFloor.state> 是 </label> <label class=radio-inline> <input type=radio name=state value=0 v-model=newFloor.state> 否 </label> </div> </div> <div class=form-group> <div class=\\\"col-sm-10 col-sm-offset-2\\\"> <button class=\\\"btn btn-primary\\\" type=submit> 提交 </button> </div> </div> </div> </form> </div> <div slot=modal-footer></div> </modal> <modal :show.sync=showProModal title=产品> <div slot=modal-body class=modal-body> <form class=form-horizontal v-ajax-submit @submit.prevent=saveProduct> <div class=form-horizontal> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品名</label> <div class=col-sm-10> <input type=text class=form-control v-model=product.name required> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品图片</label> <div class=col-sm-10> <upload id=pick-img :img.sync=product.img></upload> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">价格</label> <div class=col-sm-10> <input type=text class=form-control v-model=product.price> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">点赞数</label> <div class=col-sm-10> <input type=number class=form-control v-model=product.like> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品链接</label> <div class=col-sm-10> <input type=url class=form-control v-model=product.link> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">产品类型</label> <div class=col-sm-10> <select class=form-control v-model=product.pid required> <option v-for=\\\"item in floors\\\" :value=item._id> {{ item.name }} </option> </select> </div> </div> <div class=form-group> <label for=inputEmail3 class=\\\"col-sm-2 control-label\\\">是否显示</label> <div class=col-sm-10> <label class=radio-inline> <input type=radio name=isTop value=1 v-model=product.isTop> 显示 </label> <label class=radio-inline> <input type=radio name=isTop value=0 v-model=product.isTop> 隐藏 </label> </div> </div> <div class=form-group> <div class=\\\"col-sm-10 col-sm-offset-2\\\"> <button class=\\\"btn btn-primary\\\" type=submit>提交</button> </div> </div> </div> </form> </div> <div slot=modal-footer></div> </modal>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/sample.vue\n ** module id = 64\n ** module chunks = 11\n **/","var __vue_script__, __vue_template__\nrequire(\"!!vue-style-loader!css-loader!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./sample.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./sample.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./sample.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/views/sample.vue\n ** module id = 79\n ** module chunks = 11\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./sample.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./sample.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./sample.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/sample.vue\n ** module id = 94\n ** module chunks = 11\n **/"],"sourceRoot":""}