webpackJsonp([12],{37:function(t,e){"use strict";var i={name:null,content:null};t.exports={data:function(){return{views:[],view:$.extend({},i),viewIndex:"",editMode:!1,path:""}},route:{data:function(t){this.getViews()}},methods:{activePath:function(){var t=this.path.substr(0,this.path.lastIndexOf("\\"));this.getViews(t)},getViews:function(t){var e=this;$.ajax({url:domain+"/viewsAll",type:"GET",data:{dir:t}}).done(function(i){1==i.status&&(e.views=i.data,e.path=t)})},editView:function(t){var e=this;this.view=$.extend(this.view,this.views[t]),$.ajax({url:domain+"/views",type:"GET",data:{dir:this.view.path}}).done(function(t){1==t.status&&(e.view.content=t.data.content),e.editMode=!0})},saveView:function(){var t=this;$.ajax({url:domain+"/views",type:"POST",dataType:"json",data:{dir:this.view.path,content:this.view.content}}).done(function(e){1==e.status?(alert("修改成功"),t.editMode=!1):alert("修改失败")})}}}},50:function(t,e,i){e=t.exports=i(4)(),e.push([t.id,".palent{background:#fff;border:1px solid #ddd;padding:10px}.mb10{margin-bottom:10px}.view-content{width:100%;height:500px}.theme-panel{position:relative}.edit-container{position:absolute;width:100%;min-height:600px;height:100%;top:0;left:0;background:#fff}",""])},67:function(t,e){t.exports='<side-menu></side-menu> <div class=content-wrapper> <div class=content-header> <h1>视图管理</h1> </div> <div class=content> <div class="nav-tabs-custom theme-panel"> <div class=tab-content> <table class="table table-hover"> <tr> <th>名字</th> <th>文件类型</th> <th>管理</th> </tr> <tr v-if=path> <td><a href=javascript:; @click=activePath()>返回上级</a></td> <td>当前目录: {{path}}</td> <td></td> </tr> <tr v-for="item in views"> <td>{{ item.name }}</td> <td>{{ item.type }}</td> <td> <template v-if="item.type == \'folder\'"> <button class="btn btn-sm btn-success" @click=getViews(item.path)>进入</button> </template> <template v-if="item.type != \'folder\'"> <button class="btn btn-sm btn-primary" @click=editView($index)>编辑</button> </template> </td> </tr> </table> </div> <div v-show=editMode class=edit-container> <form class=form-horizontal v-ajax-submit @submit.prevent=saveView> <div class=form-group> <label for=inputEmail3 class="col-sm-1 control-label">名字</label> <div class=col-sm-11> {{view.name}} </div> </div> <div class=form-group> <label for=inputEmail3 class="col-sm-1 control-label">代码</label> <div class=col-sm-11> <textarea v-model=view.content class=view-content></textarea> </div> </div> <div class=form-group> <div class="col-sm-11 col-sm-offset-1"> <button class="btn btn-primary" type=submit>提交</button> <button class="btn btn-success" @click="editMode=false" type=button>取消</button> </div> </div> </form> </div> </div> </div> </div>'},82:function(t,e,i){var s,a;i(97),s=i(37),a=i(67),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},97:function(t,e,i){var s=i(50);"string"==typeof s&&(s=[[t.id,s,""]]);i(5)(s,{});s.locals&&(t.exports=s.locals)}});
//# sourceMappingURL=12.build.js.map